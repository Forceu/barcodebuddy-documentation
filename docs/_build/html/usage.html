

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Usage &mdash; Barcode Buddy Documentation 1.4.5.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Updating Barcode Buddy" href="update.html" />
    <link rel="prev" title="Setup" href="setup.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Barcode Buddy Documentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#first-start">First Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-the-web-ui">Using The Web UI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#special-barcodes">Special Barcodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-the-ui">Using the UI</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#adding-barcodes">Adding Barcodes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adding-barcodes-manually">Adding Barcodes Manually</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-barcodes-automatically">Adding Barcodes Automatically</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#using-a-physical-barcode-scanner">Using a physical barcode scanner</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-barcode-buddy-app-for-android">Using Barcode Buddy app for Android</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-a-3rd-party-application-script">Using a 3rd party application / script</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-a-3rd-party-mobile-app">Using a 3rd party mobile app</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#web-ui-settings-menu">Web UI: Settings menu</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-settings">General Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#grocy-api">Grocy API</a></li>
<li class="toctree-l3"><a class="reference internal" href="#websocket-status">Websocket Status</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#web-ui-settings-chores">Web UI: Settings Chores</a></li>
<li class="toctree-l2"><a class="reference internal" href="#web-ui-tags">Web UI: Tags</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adding-tags">Adding tags</a></li>
<li class="toctree-l3"><a class="reference internal" href="#managing-tags">Managing tags</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#web-ui-quantities">Web UI: Quantities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="update.html">Updating Barcode Buddy</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced.html">Advanced usage and configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributions.html">Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Barcode Buddy Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Usage</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/usage.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="usage">
<span id="id1"></span><h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="first-start">
<span id="firststart"></span><h2>First Start<a class="headerlink" href="#first-start" title="Permalink to this headline">¶</a></h2>
<p>Open your Grocy website. Click on Settings in the top right corner and then click on <em>Manage API keys</em>. Click on <em>add</em> and copy the long API key to your clipboard. You can now open Barcode Buddy by visiting your webservers URL. The setup will ask you to enter the API details. Make sure to have the trailing “/api/” for your Grocy URL at the end.</p>
</div>
<div class="section" id="using-the-web-ui">
<h2>Using The Web UI<a class="headerlink" href="#using-the-web-ui" title="Permalink to this headline">¶</a></h2>
<div class="section" id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<p>When you open the web ui, you will see three cards:</p>
<ul class="simple">
<li><p>New Barcodes: Barcodes that are unknown to Grocy, but the name could be looked up</p></li>
<li><p>Unknown Barcodes: Barcodes that are unknown to Grocy and could not be looked up</p></li>
<li><p>Processed Barcodes: A history of all barcodes that were processed by Barcode Buddy</p></li>
</ul>
</div>
<div class="section" id="special-barcodes">
<h3>Special Barcodes<a class="headerlink" href="#special-barcodes" title="Permalink to this headline">¶</a></h3>
<p>There are seven special barcodes - if you scan the barcode, Barcode Buddy goes into a different mode: Eg. in Purchase mode all barcodes that are scanned will be added to Grocys inventory.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 13%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Mode</p></td>
<td><p>Default Barcode</p></td>
<td><p>Explanation</p></td>
</tr>
<tr class="row-even"><td><p>Consume</p></td>
<td><p>BBUDDY-C</p></td>
<td><p>All items scanned in this mode will be removed from the inventory</p></td>
</tr>
<tr class="row-odd"><td><p>Consume (spoiled)</p></td>
<td><p>BBUDDY-CS</p></td>
<td><p>All items scanned in this mode will be removed from the inventory and marked as spoiled</p></td>
</tr>
<tr class="row-even"><td><p>Purchase</p></td>
<td><p>BBUDDY-P</p></td>
<td><p>All items scanned in this mode will be added to the inventory</p></td>
</tr>
<tr class="row-odd"><td><p>Open</p></td>
<td><p>BBUDDY-O</p></td>
<td><p>All items scanned in this mode will be marked as opened</p></td>
</tr>
<tr class="row-even"><td><p>Inventory</p></td>
<td><p>BBUDDY-I</p></td>
<td><p>Displays the current amount of items in stock of that product</p></td>
</tr>
<tr class="row-odd"><td><p>Add to shoppinglist</p></td>
<td><p>BBUDDY-AS</p></td>
<td><p>All items scanned in this mode will be added to the default shopping list</p></td>
</tr>
<tr class="row-even"><td><p>Quantity</p></td>
<td><p>BBUDDY-Q-?</p></td>
<td><p>Sets a quantity for a barcode. Replace ? with number of items. Eg. if you have a carton
with 10 eggs, scan the barcode BBUDDY-Q-10 and then the barcode of the carton. The next
time you scan the carton barcode, it will register as 10 units.</p></td>
</tr>
</tbody>
</table>
<p>You can find printable copies of the barcodes in the <a class="reference external" href="https://github.com/Forceu/barcodebuddy/tree/master/example/defaultBarcodes">example folder</a>
.</p>
</div>
<div class="section" id="using-the-ui">
<h3>Using the UI<a class="headerlink" href="#using-the-ui" title="Permalink to this headline">¶</a></h3>
<p>Once a barcode was added and is not recognised by Grocy, it will be added to the list in the web ui. Simply select the Grocy product from the drop-down list. If the name could be looked up, you will also see checkboxes for each word that was used in the name. If you want the selected Grocy product preselected for a different barcode that includes such a word, tick it and then press either “Consume” or “Add”. The barcode will then saved to Grocy and the next time you scan it, the product will automatically be processed.</p>
<img alt="https://github.com/Forceu/barcodebuddy/raw/master/example/screenshots/FullSite_small.png" src="https://github.com/Forceu/barcodebuddy/raw/master/example/screenshots/FullSite_small.png" />
</div>
</div>
<div class="section" id="adding-barcodes">
<h2>Adding Barcodes<a class="headerlink" href="#adding-barcodes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="adding-barcodes-manually">
<h3>Adding Barcodes Manually<a class="headerlink" href="#adding-barcodes-manually" title="Permalink to this headline">¶</a></h3>
<p>The easiest option, ideally for testing out Barcode Buddy: Simply open the web ui and click on “Add barcode”. Enter the barcode (use one line per barcode) and click on “Add”.</p>
<p>If you are using a barcode scanner, but don’t want to attach it to Barcode Buddy (yet), you can also plug it into the device that runs the webbrowser and use it to enter the barcodes in the textfield. Each line is parsed as a barcode.</p>
</div>
<div class="section" id="adding-barcodes-automatically">
<h3>Adding Barcodes Automatically<a class="headerlink" href="#adding-barcodes-automatically" title="Permalink to this headline">¶</a></h3>
<p>The preferred way. Most barcode scanners register as a USB keyboard. That way, it is possible to grab the input and send it to Barcode Buddy.</p>
<div class="section" id="using-a-physical-barcode-scanner">
<span id="attachingscanner"></span><h4>Using a physical barcode scanner<a class="headerlink" href="#using-a-physical-barcode-scanner" title="Permalink to this headline">¶</a></h4>
<p>Plug in your barcode scanner to the linux computer / server you will be using. Run the command <code class="docutils literal notranslate"><span class="pre">evtest</span></code> as root. You will see a list of devices, select the one that is your barcode scanner and remember the number (eg. event6). Scan a barcode. You will now see output in the evtest programm. If not, you have selected the wrong source.</p>
<div class="section" id="docker">
<h5>Docker<a class="headerlink" href="#docker" title="Permalink to this headline">¶</a></h5>
<p>Create a docker container with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">v</span> <span class="n">bbconfig</span><span class="p">:</span><span class="o">/</span><span class="n">config</span> <span class="o">-</span><span class="n">e</span> <span class="n">ATTACH_BARCODESCANNER</span><span class="o">=</span><span class="n">true</span> <span class="o">-</span><span class="n">p</span> <span class="mi">80</span><span class="p">:</span><span class="mi">80</span> <span class="o">-</span><span class="n">p</span> <span class="mi">443</span><span class="p">:</span><span class="mi">443</span> <span class="o">--</span><span class="n">device</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="nb">input</span><span class="o">/</span><span class="n">eventX</span> <span class="n">f0rc3</span><span class="o">/</span><span class="n">barcodebuddy</span><span class="o">-</span><span class="n">docker</span><span class="p">:</span><span class="n">YOURTAG</span>
</pre></div>
</div>
<p>where X in <code class="docutils literal notranslate"><span class="pre">--device</span> <span class="pre">/dev/input/eventX</span></code> is the number of your event you selected previously. You might need to change the values for the ports. Scan a barcode - it should be sent directly to Barcode Buddy.</p>
</div>
<div class="section" id="bare-metal">
<h5>Bare Metal<a class="headerlink" href="#bare-metal" title="Permalink to this headline">¶</a></h5>
<p>Navigate to the example folder in the Barcode Buddy directory. In the file <code class="docutils literal notranslate"><span class="pre">grabInput.sh</span></code> edit the following values:</p>
<ul class="simple">
<li><dl class="simple">
<dt>If your barcode scanner is attached to the same computer / server:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">SCRIPT_LOCATION</span></code>: Replace with the location where your index.php file is located</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>If the scanner is attached to a different computer / server:</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">SERVER_ADDRESS</span></code>: Replace with the URL where your index.php file can be accessed from</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">USE_CURL</span></code>: Set to “true”</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>If the webserver does not run as user www-data (uncommon):</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">WWW_USER</span></code>: Set to the name of the user</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Then run as root</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bash</span> <span class="n">grabInput</span><span class="o">.</span><span class="n">sh</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="nb">input</span><span class="o">/</span><span class="n">eventX</span>
</pre></div>
</div>
<p>where X is the number of your event you selected previously. Scan a barcode - it should be sent directly to Barcode Buddy.</p>
<p>To run the script in the background, run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">screen</span> <span class="o">-</span><span class="n">S</span> <span class="n">barcodegrabber</span> <span class="o">-</span><span class="n">d</span> <span class="o">-</span><span class="n">m</span> <span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">bash</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">the</span><span class="o">/</span><span class="n">barcodebuddy</span><span class="o">/</span><span class="n">folder</span><span class="o">/</span><span class="n">example</span><span class="o">/</span><span class="n">grabInput</span><span class="o">.</span><span class="n">sh</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="nb">input</span><span class="o">/</span><span class="n">eventX</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="using-barcode-buddy-app-for-android">
<h4>Using Barcode Buddy app for Android<a class="headerlink" href="#using-barcode-buddy-app-for-android" title="Permalink to this headline">¶</a></h4>
<p>Download the app here: <a class="reference external" href="https://play.google.com/store/apps/details?id=de.bulling.barcodebuddyscanner">Google Play Store</a></p>
<p>Once installed, open Barcode Buddy and navigate to the menu <code class="docutils literal notranslate"><span class="pre">API</span></code>. There click on the three dots in the top right corner and select <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">mobile</span> <span class="pre">app</span></code>. Open your Barcode Buddy app and then scan the displayed QR code.</p>
</div>
<div class="section" id="using-a-3rd-party-application-script">
<h4>Using a 3rd party application / script<a class="headerlink" href="#using-a-3rd-party-application-script" title="Permalink to this headline">¶</a></h4>
<p>If you want to write your own script, there are two ways to send the barcodes to Barcode Buddy: either by calling <code class="docutils literal notranslate"><span class="pre">php</span> <span class="pre">index.php</span> <span class="pre">yourBarcode</span></code> or by calling the URL: <code class="docutils literal notranslate"><span class="pre">https://your.bbuddy.url/api/action/scan?apikey=myApiKey&amp;add=123456</span></code>. Only one barcode can be given with each call. Replace myApiKey with an API key generated in the main menu. For more information about the API visit <a class="reference internal" href="advanced.html#api"><span class="std std-ref">API</span></a>.</p>
</div>
<div class="section" id="using-a-3rd-party-mobile-app">
<h4>Using a 3rd party mobile app<a class="headerlink" href="#using-a-3rd-party-mobile-app" title="Permalink to this headline">¶</a></h4>
<p>Although we have not released an app (yet), you can use the <a class="reference external" href="https://play.google.com/store/apps/details?id=com.scanner.kataykin.icamesscaner.free">Android app QR &amp; Barcode Scanner</a> and point it to <code class="docutils literal notranslate"><span class="pre">/api/action/scan</span></code>. Make sure to add the paramter <code class="docutils literal notranslate"><span class="pre">apikey</span></code> with the correct API key.</p>
</div>
</div>
</div>
<div class="section" id="web-ui-settings-menu">
<h2>Web UI: Settings menu<a class="headerlink" href="#web-ui-settings-menu" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general-settings">
<h3>General Settings<a class="headerlink" href="#general-settings" title="Permalink to this headline">¶</a></h3>
<p>In this tab you can set the barcodes for changing Barcode Buddy modes. For example, if you scan the barcode “BBUDDY-P”, Barcode Buddy will change to “Purchase” mode and add all following items to your Grocy inventory. By default it is in “Consume” mode. The edit field below allows you to set the time in minutes, which is required to pass in order to revert back to the default “Consume” mode. E.g. if “Purchase” mode is active and the field is set to 10 minutes, Barcode Buddy will revert back to “Consume” mode 10 minutes later.</p>
<p>If you scan the “Inventory” barcode, Barcode Buddy will simply output the current stock, but not change any values. If an unknown barcode is scanned, it is added to the regular list.</p>
<p>The “Add to shopping list” barcode adds all future barcodes to the default shopping list.</p>
<p>With the “Revert after single item scan in “Open” or “Spoiled” mode” checkbox ticked, Barcode Buddy only stays in this mode for one scan and then reverts back to the default “Consume” mode. It does not affect the “Purchase” mode however!</p>
<p>With “Remove purchased items from shoppinglist” enabled, items that are scanned in purchase mode are removed from all Grocy shopping lists.</p>
<p>When “more verbose logs” is disabled, only barcode scans are logged in the log part of the main page.</p>
</div>
<div class="section" id="grocy-api">
<h3>Grocy API<a class="headerlink" href="#grocy-api" title="Permalink to this headline">¶</a></h3>
<p>Here you can change your Grocy API details. Refer to <a class="reference internal" href="#firststart"><span class="std std-ref">First Start</span></a>.</p>
</div>
<div class="section" id="websocket-status">
<h3>Websocket Status<a class="headerlink" href="#websocket-status" title="Permalink to this headline">¶</a></h3>
<p>This section gives the status of the websocket server and if Barcode Buddy is able to connect to it</p>
</div>
</div>
<div class="section" id="web-ui-settings-chores">
<h2>Web UI: Settings Chores<a class="headerlink" href="#web-ui-settings-chores" title="Permalink to this headline">¶</a></h2>
<p>This menu lists all available Grocy chores. Simply enter a barcode for a chore and press “Add”. The next time you scan this barcode, the chore will be executed. To change the barcode, simply edit it and press “Edit”. To remove, delete the barcode and press “Edit”.</p>
</div>
<div class="section" id="web-ui-tags">
<h2>Web UI: Tags<a class="headerlink" href="#web-ui-tags" title="Permalink to this headline">¶</a></h2>
<p>All saved tags are listed here</p>
<div class="section" id="adding-tags">
<h3>Adding tags<a class="headerlink" href="#adding-tags" title="Permalink to this headline">¶</a></h3>
<p>Scan a barcode that was not recognized by Grocy yet, but could be looked up. Before pressing “Add” or “Consume” in the main menu, select a word from the list to the right. The next time a barcode is looked up that contains the word, the product is preselected.</p>
</div>
<div class="section" id="managing-tags">
<h3>Managing tags<a class="headerlink" href="#managing-tags" title="Permalink to this headline">¶</a></h3>
<p>The list shows an overview of the tags. Click on “Delete” to remove the tag.</p>
</div>
</div>
<div class="section" id="web-ui-quantities">
<h2>Web UI: Quantities<a class="headerlink" href="#web-ui-quantities" title="Permalink to this headline">¶</a></h2>
<p>This features is for products that come in packs containing more than one item.</p>
<p>In the settings you see the quantity barcode (default “BBUDDY-Q-“). If you scan a barcode that starts with this text and has a number at the end, Barcode Buddy sets the quantity of the units from the previously scanned barcode to the number. For example: You scan Barcode “123”, which is a pack of 6 eggs. Then you scan the barcode “BBUDDY-Q-6”. The next time you scan the barcode “123” in purchase mode, Barcode Buddy will automatically add 6 eggs.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="update.html" class="btn btn-neutral float-right" title="Updating Barcode Buddy" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="setup.html" class="btn btn-neutral float-left" title="Setup" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Marc Ole Bulling

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>